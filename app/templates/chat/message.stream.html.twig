<turbo-stream action="append" target="messages">
    <template>
        {% if message.createdBy is same as app.user.email %}
            <article class="max-w-[80%] self-end" id="{{ 'message_' ~ message.id }}">
                <header class="flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800">
                    <div class="flex items-center">
                        <div class="relative w-10 h-10 overflow-hidden bg-gray-100 rounded-full">
                            <svg class="absolute w-12 h-12 text-gray-400 -left-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg>
                        </div>
                        <div class="ml-3 bg-primary-50 p-4 rounded-xl">
                            <h3 class="text-lg font-bold text-gray-900 dark:text-white">{{ message.createdBy }}</h3>
                            <p class="dark:text-white">{{ message.content }}</p>
                        </div>
                    </div>
                </header>
            </article>
        {% else %}
            <article class="max-w-[80%]" id="{{ 'message_' ~ message.id }}">
                <header class="flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800">
                    <div class="flex items-center">
                        <div class="relative w-10 h-10 overflow-hidden bg-gray-100 rounded-full">
                            <svg class="absolute w-12 h-12 text-gray-400 -left-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg>
                        </div>
                        <div class="ml-3 bg-secondary-50 p-4 rounded-xl">
                            <h3 class="text-lg font-bold text-gray-900 dark:text-white">{{ message.createdBy }}</h3>
                            <p class="dark:text-white">{{ message.content }}</p>
                        </div>
                    </div>
                </header>
            </article>
        {% endif %}
    </template>
</turbo-stream>